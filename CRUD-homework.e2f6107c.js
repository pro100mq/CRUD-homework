function e(){try{return fetch("http://localhost:3000/students").then(e=>e.json())}catch(e){console.log(e)}}function t(e){return e.map(e=>`
    <tr data-id="${e.id}">
        <td>${e.id}</td>
        <td class="name">${e.name}</td>
        <td class="age">${e.age}</td>
        <td class="course">${e.course}</td>
        <td class="skills">${e.skills}</td>
        <td class="email">${e.email}</td>
        <td class="isEnrolled">${e.isEnrolled}</td>
        <td>
            <button class="edit-button">\u{420}\u{435}\u{434}\u{430}\u{433}\u{443}\u{432}\u{430}\u{442}\u{438}</button>
            <button class="delete-button">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
        </td>
    </tr>
    `).join("")}document.querySelector("#get-students-btn").addEventListener("click",()=>{e().then(e=>{console.log(e),document.querySelector("tbody").innerHTML=t(e)})}),document.querySelector("#add-student-form").addEventListener("submit",l=>{l.preventDefault();let o=l.target.elements.name.value,n=l.target.elements.age.value,r=l.target.elements.course.value,a=l.target.elements.skills.value,u=l.target.elements.email.value,c=l.target.elements.isEnrolled.value,d={name:o,age:n,course:r,skills:a,email:u,isEnrolled:c=!0===c?"true":"false"};console.log(d),(function(e){try{return fetch("http://localhost:3000/students",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json())}catch(e){console.log(e)}})(d).then(()=>{e().then(e=>{document.querySelector("tbody").innerHTML=t(e)})}),l.target.elements.name.value="",l.target.elements.age.value="",l.target.elements.course.value="",l.target.elements.skills.value="",l.target.elements.email.value="",l.target.elements.isEnrolled.value=""});let l=null;document.querySelector("tbody").addEventListener("click",e=>{if("Редагувати"===e.target.textContent.trim()){let t=e.target.closest("tr");l=t.getAttribute("data-id"),document.querySelector("#modalNameChange").value=t.querySelector(".name").textContent,document.querySelector("#modalAgeChange").value=t.querySelector(".age").textContent,document.querySelector("#modalCourseChange").value=t.querySelector(".course").textContent,document.querySelector("#modalSkillsChange").value=t.querySelector(".skills").textContent,document.querySelector("#modalEmailChange").value=t.querySelector(".email").textContent,document.querySelector("#isEnrolledChange").checked="true"===t.querySelector(".isEnrolled").textContent,document.querySelector("#modalEdit").style.display="block",document.querySelector(".modal-backdrop").style.display="block"}}),document.querySelector(".modal-edit-btn").addEventListener("click",()=>{let o={name:document.querySelector("#modalNameChange").value,age:parseInt(document.querySelector("#modalAgeChange").value),course:document.querySelector("#modalCourseChange").value,skills:document.querySelector("#modalSkillsChange").value,email:document.querySelector("#modalEmailChange").value,isEnrolled:document.querySelector("#isEnrolledChange").checked};console.log(o),(function(e,t){try{return fetch(`http://localhost:3000/students/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json())}catch(e){console.log(e)}})(o,l).then(()=>e()).then(e=>{document.querySelector("tbody").innerHTML=t(e),document.querySelector("#modalEdit").style.display="none",document.querySelector(".modal-backdrop").style.display="none"}).catch(e=>{console.error("Error updating student:",e)})}),document.querySelector("tbody").addEventListener("click",l=>{"Видалити"===l.target.textContent&&(function(e){try{return fetch(`http://localhost:3000/students/${e}`,{method:"DELETE"})}catch(e){console.log(e)}})(l.target.closest("tr").getAttribute("data-id")).then(()=>{e().then(e=>{console.log(e),document.querySelector("tbody").innerHTML=t(e)})})});
//# sourceMappingURL=CRUD-homework.e2f6107c.js.map
