function e(){try{return fetch("http://localhost:3000/students").then(e=>e.json())}catch(e){console.log(e)}}async function t(e){try{return await fetch(`http://localhost:3000/students/${e}`,{method:"DELETE"})}catch(e){console.log(e)}}function n(e){return e.map(e=>`
      <tr id="${e.id}">
        <td name="id">${e.id}</td>
        <td>${e.name}</td>
        <td>${e.age}</td>
        <td>${e.course}</td>
        <td>${e.skills}</td>
        <td>${e.email}</td>
        <td>${e.isEnrolled}</td>
        <td><button type="button" class="delete-btn">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button></td>
        <td><button type="button" class="update-btn">\u{41E}\u{43D}\u{43E}\u{432}\u{438}\u{442}\u{438}</button></td>
      </tr>
    `).join("")}document.querySelector("#get-students-btn").addEventListener("click",()=>{e().then(e=>{console.log(e),document.querySelector("tbody").innerHTML=n(e)})}),document.querySelector("#add-student-form").addEventListener("submit",t=>{t.preventDefault();let l=t.target.elements.name.value,o=t.target.elements.age.value,r=t.target.elements.course.value,u=t.target.elements.skills.value,c=t.target.elements.email.value,d=t.target.elements.isEnrolled.value,a={name:l,age:o,course:r,skills:u,email:c,isEnrolled:d=!0===d?"true":"false"};console.log(a),(function(e){try{return fetch("http://localhost:3000/students",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>e.json())}catch(e){console.log(e)}})(a).then(()=>{e().then(e=>{document.querySelector("tbody").innerHTML=n(e)})}),t.target.elements.name.value="",t.target.elements.age.value="",t.target.elements.course.value="",t.target.elements.skills.value="",t.target.elements.email.value="",t.target.elements.isEnrolled.value=""});let l=null;document.querySelector("tbody").addEventListener("click",e=>{if("Редагувати"===e.target.textContent){document.querySelector(".add").style.display="none",document.querySelector(".edit").style.display="inherit";let t=e.target.closest("tr");l=t.getAttribute("data-id"),document.querySelector("#name").value=t.querySelector(".name").textContent,document.querySelector("#age").value=t.querySelector(".age").textContent,document.querySelector("#course").value=t.querySelector(".course").textContent,document.querySelector("#skills").value=t.querySelector(".skills").textContent,document.querySelector("#email").value=t.querySelector(".email").textContent,"true"===t.querySelector(".isEnrolled").textContent?document.querySelector("#isEnrolled").checked=!0:document.querySelector("#isEnrolled").checked=!1}}),document.querySelector("#editStudent").addEventListener("click",()=>{let t={name:document.querySelector("#name").value,age:document.querySelector("#age").value,course:document.querySelector("#course").value,skills:document.querySelector("#skills").value,email:document.querySelector("#email").value,isEnrolled:document.querySelector("#isEnrolled").checked};console.log(l),(function(e,t){try{return fetch("http://localhost:3000/students/undefined",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json())}catch(e){console.log(e)}})(t).then(()=>{e().then(e=>{document.querySelector("tbody").innerHTML=n(e),document.querySelector(".add").style.display="inherit",document.querySelector(".edit").style.display="none"})})}),document.querySelector("tbody").addEventListener("click",l=>{"Видалити"===l.target.textContent&&t(l.target.closest("tr").getAttribute("data-id")).then(()=>{e().then(e=>{console.log(e),document.querySelector("tbody").innerHTML=n(e)})})});
//# sourceMappingURL=CRUD-homework.8b20d9a5.js.map
